// Code generated by opnsense-cli/generate; DO NOT EDIT.

package gen

import (
	"context"
	"encoding/json"
	"fmt"

	"github.com/jontk/opnsense-cli/internal/cli"
	sdk "github.com/jontk/opnsense-cli/opnsense/bind"
	"github.com/spf13/cobra"
)

func init() {
	registerBind()
}

func registerBind() {
	moduleCmd := &cobra.Command{
		Use:   "bind",
		Short: "Manage bind resources",
	}
	moduleCmd.AddCommand(newBindAclCmd())
	moduleCmd.AddCommand(newBindDnsblCmd())
	moduleCmd.AddCommand(newBindForwardDomainCmd())
	moduleCmd.AddCommand(newBindPrimaryDomainCmd())
	moduleCmd.AddCommand(newBindSecondaryDomainCmd())
	moduleCmd.AddCommand(newBindDomainCmd())
	moduleCmd.AddCommand(newBindMasterDomainCmd())
	moduleCmd.AddCommand(newBindSlaveDomainCmd())
	moduleCmd.AddCommand(newBindGeneralCmd())
	moduleCmd.AddCommand(newBindRecordCmd())
	moduleCmd.AddCommand(newBindServiceCmd())
	cli.Root.AddCommand(moduleCmd)
}

// bindAclColumns defines table columns for the Acl resource.
var bindAclColumns = []cli.Column{
	{Header: "NAME", Extract: func(row any) string {
		if v, ok := row.(sdk.Acl); ok {
			return fmt.Sprint(v.Name)
		}
		return ""
	}},
	{Header: "ENABLED", Extract: func(row any) string {
		if v, ok := row.(sdk.Acl); ok {
			return fmt.Sprint(v.Enabled)
		}
		return ""
	}},
	{Header: "NETWORKS", Extract: func(row any) string {
		if v, ok := row.(sdk.Acl); ok {
			return fmt.Sprint(v.Networks)
		}
		return ""
	}},
}

func newBindAclCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "acl",
		Short: "Manage bind acl resources",
	}
	cmd.AddCommand(newBindAclCreateCmd())
	cmd.AddCommand(newBindAclDeleteCmd())
	cmd.AddCommand(newBindAclGetCmd())
	cmd.AddCommand(newBindAclListCmd())
	cmd.AddCommand(newBindAclSetCmd())
	cmd.AddCommand(newBindAclUpdateCmd())
	cmd.AddCommand(newBindAclToggleCmd())
	return cmd
}

func newBindAclCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create bind acl",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Acl
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.AclAddAcl(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newBindAclDeleteCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "delete <uuid>",
		Short: "Delete bind acl",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.AclDelAcl(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newBindAclGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get bind acl",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.AclGetAcl(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newBindAclListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List bind acl resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.AclSearchAcl(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, bindAclColumns)
		},
	}
}

func newBindAclSetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "set",
		Short: "Set bind acl",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.AclSet(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newBindAclUpdateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "update <uuid>",
		Short: "Update bind acl",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Acl
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.AclSetAcl(context.Background(), args[0], &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newBindAclToggleCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "toggle <uuid>",
		Short: "Toggle bind acl",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.AclToggleAcl(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newBindDnsblCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "dnsbl",
		Short: "Manage bind dnsbl resources",
	}
	cmd.AddCommand(newBindDnsblGetCmd())
	cmd.AddCommand(newBindDnsblSetCmd())
	return cmd
}

func newBindDnsblGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get bind dnsbl",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.DnsblGet(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newBindDnsblSetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "set",
		Short: "Set bind dnsbl",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.DnsblSet(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

// bindForwardDomainColumns defines table columns for the ForwardDomain resource.
var bindForwardDomainColumns = []cli.Column{
	{Header: "ENABLED", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Enabled)
		}
		return ""
	}},
	{Header: "TYPE", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Type)
		}
		return ""
	}},
	{Header: "PRIMARYIP", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Primaryip)
		}
		return ""
	}},
	{Header: "FORWARDSERVER", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Forwardserver)
		}
		return ""
	}},
	{Header: "TRANSFERKEYALGO", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkeyalgo)
		}
		return ""
	}},
	{Header: "TRANSFERKEYNAME", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkeyname)
		}
		return ""
	}},
	{Header: "TRANSFERKEY", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkey)
		}
		return ""
	}},
	{Header: "ALLOWNOTIFYSECONDARY", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Allownotifysecondary)
		}
		return ""
	}},
}

func newBindForwardDomainCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "forward-domain",
		Short: "Manage bind forward-domain resources",
	}
	cmd.AddCommand(newBindForwardDomainCreateCmd())
	cmd.AddCommand(newBindForwardDomainListCmd())
	return cmd
}

func newBindForwardDomainCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create bind forward-domain",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Domain
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.DomainAddForwardDomain(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newBindForwardDomainListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List bind forward-domain resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.DomainSearchForwardDomain(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, bindForwardDomainColumns)
		},
	}
}

// bindPrimaryDomainColumns defines table columns for the PrimaryDomain resource.
var bindPrimaryDomainColumns = []cli.Column{
	{Header: "ENABLED", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Enabled)
		}
		return ""
	}},
	{Header: "TYPE", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Type)
		}
		return ""
	}},
	{Header: "PRIMARYIP", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Primaryip)
		}
		return ""
	}},
	{Header: "FORWARDSERVER", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Forwardserver)
		}
		return ""
	}},
	{Header: "TRANSFERKEYALGO", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkeyalgo)
		}
		return ""
	}},
	{Header: "TRANSFERKEYNAME", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkeyname)
		}
		return ""
	}},
	{Header: "TRANSFERKEY", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkey)
		}
		return ""
	}},
	{Header: "ALLOWNOTIFYSECONDARY", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Allownotifysecondary)
		}
		return ""
	}},
}

func newBindPrimaryDomainCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "primary-domain",
		Short: "Manage bind primary-domain resources",
	}
	cmd.AddCommand(newBindPrimaryDomainCreateCmd())
	cmd.AddCommand(newBindPrimaryDomainListCmd())
	return cmd
}

func newBindPrimaryDomainCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create bind primary-domain",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Domain
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.DomainAddPrimaryDomain(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newBindPrimaryDomainListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List bind primary-domain resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.DomainSearchPrimaryDomain(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, bindPrimaryDomainColumns)
		},
	}
}

// bindSecondaryDomainColumns defines table columns for the SecondaryDomain resource.
var bindSecondaryDomainColumns = []cli.Column{
	{Header: "ENABLED", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Enabled)
		}
		return ""
	}},
	{Header: "TYPE", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Type)
		}
		return ""
	}},
	{Header: "PRIMARYIP", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Primaryip)
		}
		return ""
	}},
	{Header: "FORWARDSERVER", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Forwardserver)
		}
		return ""
	}},
	{Header: "TRANSFERKEYALGO", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkeyalgo)
		}
		return ""
	}},
	{Header: "TRANSFERKEYNAME", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkeyname)
		}
		return ""
	}},
	{Header: "TRANSFERKEY", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkey)
		}
		return ""
	}},
	{Header: "ALLOWNOTIFYSECONDARY", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Allownotifysecondary)
		}
		return ""
	}},
}

func newBindSecondaryDomainCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "secondary-domain",
		Short: "Manage bind secondary-domain resources",
	}
	cmd.AddCommand(newBindSecondaryDomainCreateCmd())
	cmd.AddCommand(newBindSecondaryDomainListCmd())
	return cmd
}

func newBindSecondaryDomainCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create bind secondary-domain",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Domain
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.DomainAddSecondaryDomain(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newBindSecondaryDomainListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List bind secondary-domain resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.DomainSearchSecondaryDomain(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, bindSecondaryDomainColumns)
		},
	}
}

// bindDomainColumns defines table columns for the Domain resource.
var bindDomainColumns = []cli.Column{
	{Header: "ENABLED", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Enabled)
		}
		return ""
	}},
	{Header: "TYPE", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Type)
		}
		return ""
	}},
	{Header: "PRIMARYIP", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Primaryip)
		}
		return ""
	}},
	{Header: "FORWARDSERVER", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Forwardserver)
		}
		return ""
	}},
	{Header: "TRANSFERKEYALGO", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkeyalgo)
		}
		return ""
	}},
	{Header: "TRANSFERKEYNAME", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkeyname)
		}
		return ""
	}},
	{Header: "TRANSFERKEY", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkey)
		}
		return ""
	}},
	{Header: "ALLOWNOTIFYSECONDARY", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Allownotifysecondary)
		}
		return ""
	}},
}

func newBindDomainCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "domain",
		Short: "Manage bind domain resources",
	}
	cmd.AddCommand(newBindDomainDeleteCmd())
	cmd.AddCommand(newBindDomainGetCmd())
	cmd.AddCommand(newBindDomainSetCmd())
	cmd.AddCommand(newBindDomainUpdateCmd())
	cmd.AddCommand(newBindDomainToggleCmd())
	return cmd
}

func newBindDomainDeleteCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "delete <uuid>",
		Short: "Delete bind domain",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.DomainDelDomain(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newBindDomainGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get bind domain",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.DomainGetDomain(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newBindDomainSetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "set",
		Short: "Set bind domain",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.DomainSet(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newBindDomainUpdateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "update",
		Short: "Update bind domain",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Domain
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.DomainSetDomain(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newBindDomainToggleCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "toggle <uuid>",
		Short: "Toggle bind domain",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.DomainToggleDomain(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

// bindMasterDomainColumns defines table columns for the MasterDomain resource.
var bindMasterDomainColumns = []cli.Column{
	{Header: "ENABLED", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Enabled)
		}
		return ""
	}},
	{Header: "TYPE", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Type)
		}
		return ""
	}},
	{Header: "PRIMARYIP", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Primaryip)
		}
		return ""
	}},
	{Header: "FORWARDSERVER", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Forwardserver)
		}
		return ""
	}},
	{Header: "TRANSFERKEYALGO", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkeyalgo)
		}
		return ""
	}},
	{Header: "TRANSFERKEYNAME", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkeyname)
		}
		return ""
	}},
	{Header: "TRANSFERKEY", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkey)
		}
		return ""
	}},
	{Header: "ALLOWNOTIFYSECONDARY", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Allownotifysecondary)
		}
		return ""
	}},
}

func newBindMasterDomainCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "master-domain",
		Short: "Manage bind master-domain resources",
	}
	cmd.AddCommand(newBindMasterDomainListCmd())
	return cmd
}

func newBindMasterDomainListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List bind master-domain resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.DomainSearchMasterDomain(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, bindMasterDomainColumns)
		},
	}
}

// bindSlaveDomainColumns defines table columns for the SlaveDomain resource.
var bindSlaveDomainColumns = []cli.Column{
	{Header: "ENABLED", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Enabled)
		}
		return ""
	}},
	{Header: "TYPE", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Type)
		}
		return ""
	}},
	{Header: "PRIMARYIP", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Primaryip)
		}
		return ""
	}},
	{Header: "FORWARDSERVER", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Forwardserver)
		}
		return ""
	}},
	{Header: "TRANSFERKEYALGO", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkeyalgo)
		}
		return ""
	}},
	{Header: "TRANSFERKEYNAME", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkeyname)
		}
		return ""
	}},
	{Header: "TRANSFERKEY", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Transferkey)
		}
		return ""
	}},
	{Header: "ALLOWNOTIFYSECONDARY", Extract: func(row any) string {
		if v, ok := row.(sdk.Domain); ok {
			return fmt.Sprint(v.Allownotifysecondary)
		}
		return ""
	}},
}

func newBindSlaveDomainCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "slave-domain",
		Short: "Manage bind slave-domain resources",
	}
	cmd.AddCommand(newBindSlaveDomainListCmd())
	return cmd
}

func newBindSlaveDomainListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List bind slave-domain resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.DomainSearchSlaveDomain(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, bindSlaveDomainColumns)
		},
	}
}

func newBindGeneralCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "general",
		Short: "Manage bind general resources",
	}
	cmd.AddCommand(newBindGeneralGetCmd())
	cmd.AddCommand(newBindGeneralSetCmd())
	cmd.AddCommand(newBindGeneralZoneshowCmd())
	cmd.AddCommand(newBindGeneralZonetestCmd())
	return cmd
}

func newBindGeneralGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get bind general",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.GeneralGet(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newBindGeneralSetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "set",
		Short: "Set bind general",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.GeneralSet(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newBindGeneralZoneshowCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "zoneshow",
		Short: "Zoneshow bind general",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.GeneralZoneshow(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newBindGeneralZonetestCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "zonetest",
		Short: "Zonetest bind general",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.GeneralZonetest(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

// bindRecordColumns defines table columns for the Record resource.
var bindRecordColumns = []cli.Column{
	{Header: "NAME", Extract: func(row any) string {
		if v, ok := row.(sdk.Record); ok {
			return fmt.Sprint(v.Name)
		}
		return ""
	}},
	{Header: "ENABLED", Extract: func(row any) string {
		if v, ok := row.(sdk.Record); ok {
			return fmt.Sprint(v.Enabled)
		}
		return ""
	}},
	{Header: "TYPE", Extract: func(row any) string {
		if v, ok := row.(sdk.Record); ok {
			return fmt.Sprint(v.Type)
		}
		return ""
	}},
	{Header: "DOMAIN", Extract: func(row any) string {
		if v, ok := row.(sdk.Record); ok {
			return fmt.Sprint(v.Domain)
		}
		return ""
	}},
	{Header: "VALUE", Extract: func(row any) string {
		if v, ok := row.(sdk.Record); ok {
			return fmt.Sprint(v.Value)
		}
		return ""
	}},
}

func newBindRecordCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "record",
		Short: "Manage bind record resources",
	}
	cmd.AddCommand(newBindRecordCreateCmd())
	cmd.AddCommand(newBindRecordDeleteCmd())
	cmd.AddCommand(newBindRecordGetCmd())
	cmd.AddCommand(newBindRecordListCmd())
	cmd.AddCommand(newBindRecordSetCmd())
	cmd.AddCommand(newBindRecordUpdateCmd())
	cmd.AddCommand(newBindRecordToggleCmd())
	return cmd
}

func newBindRecordCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create bind record",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Record
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.RecordAddRecord(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newBindRecordDeleteCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "delete <uuid>",
		Short: "Delete bind record",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.RecordDelRecord(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newBindRecordGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get bind record",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.RecordGetRecord(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newBindRecordListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List bind record resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.RecordSearchRecord(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, bindRecordColumns)
		},
	}
}

func newBindRecordSetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "set",
		Short: "Set bind record",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.RecordSet(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newBindRecordUpdateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "update",
		Short: "Update bind record",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Record
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.RecordSetRecord(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newBindRecordToggleCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "toggle <uuid>",
		Short: "Toggle bind record",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.RecordToggleRecord(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newBindServiceCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "service",
		Short: "Manage bind service resources",
	}
	cmd.AddCommand(newBindServiceDnsblCmd())
	cmd.AddCommand(newBindServiceReconfigureCmd())
	cmd.AddCommand(newBindServiceRestartCmd())
	cmd.AddCommand(newBindServiceStartCmd())
	cmd.AddCommand(newBindServiceStatusCmd())
	cmd.AddCommand(newBindServiceStopCmd())
	return cmd
}

func newBindServiceDnsblCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "dnsbl",
		Short: "Dnsbl bind service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceDnsbl(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newBindServiceReconfigureCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "reconfigure",
		Short: "Reconfigure bind service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceReconfigure(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newBindServiceRestartCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "restart",
		Short: "Restart bind service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceRestart(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newBindServiceStartCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "start",
		Short: "Start bind service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceStart(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newBindServiceStatusCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "status",
		Short: "Status bind service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceStatus(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newBindServiceStopCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "stop",
		Short: "Stop bind service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceStop(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}
