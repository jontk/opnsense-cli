// Code generated by opnsense-cli/generate; DO NOT EDIT.

package gen

import (
	"context"
	"encoding/json"
	"fmt"

	"github.com/jontk/opnsense-cli/internal/cli"
	sdk "github.com/jontk/opnsense-cli/opnsense/dnsmasq"
	"github.com/spf13/cobra"
)

func init() {
	registerDnsmasq()
}

func registerDnsmasq() {
	moduleCmd := &cobra.Command{
		Use:   "dnsmasq",
		Short: "Manage dnsmasq resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			if len(args) == 0 {
				return cmd.Help()
			}
			msg := fmt.Sprintf("unknown command %q for %q", args[0], cmd.CommandPath())
			if sugg := cmd.SuggestionsFor(args[0]); len(sugg) > 0 {
				msg += "\n\nDid you mean this?"
				for _, s := range sugg {
					msg += "\n\t" + s
				}
			}
			return fmt.Errorf("%s\n\nRun '%s --help' for usage.", msg, cmd.CommandPath())
		},
	}
	moduleCmd.AddCommand(newDnsmasqLeasesCmd())
	moduleCmd.AddCommand(newDnsmasqServiceCmd())
	moduleCmd.AddCommand(newDnsmasqBootCmd())
	moduleCmd.AddCommand(newDnsmasqDomainCmd())
	moduleCmd.AddCommand(newDnsmasqHostCmd())
	moduleCmd.AddCommand(newDnsmasqOptionCmd())
	moduleCmd.AddCommand(newDnsmasqRangeCmd())
	moduleCmd.AddCommand(newDnsmasqTagCmd())
	moduleCmd.AddCommand(newDnsmasqSettingsCmd())
	moduleCmd.AddCommand(newDnsmasqTagListResourceCmd())
	cli.Root.AddCommand(moduleCmd)
}

func newDnsmasqLeasesCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "leases",
		Short: "Manage dnsmasq leases resources",
	}
	cmd.AddCommand(newDnsmasqLeasesSearchCmd())
	return cmd
}

func newDnsmasqLeasesSearchCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "search",
		Short: "Search dnsmasq leases",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.LeasesSearch(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newDnsmasqServiceCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "service",
		Short: "Manage dnsmasq service resources",
	}
	cmd.AddCommand(newDnsmasqServiceReconfigureCmd())
	cmd.AddCommand(newDnsmasqServiceRestartCmd())
	cmd.AddCommand(newDnsmasqServiceStartCmd())
	cmd.AddCommand(newDnsmasqServiceStatusCmd())
	cmd.AddCommand(newDnsmasqServiceStopCmd())
	return cmd
}

func newDnsmasqServiceReconfigureCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "reconfigure",
		Short: "Reconfigure dnsmasq service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceReconfigure(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newDnsmasqServiceRestartCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "restart",
		Short: "Restart dnsmasq service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceRestart(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newDnsmasqServiceStartCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "start",
		Short: "Start dnsmasq service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceStart(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newDnsmasqServiceStatusCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "status",
		Short: "Status dnsmasq service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceStatus(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newDnsmasqServiceStopCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "stop",
		Short: "Stop dnsmasq service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceStop(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

// dnsmasqBootColumns defines table columns for the Boot resource.
var dnsmasqBootColumns = []cli.Column{
	{Header: "DESCRIPTION", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpBoot); ok {
			return fmt.Sprint(v.Description)
		}
		return ""
	}},
	{Header: "ADDRESS", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpBoot); ok {
			return fmt.Sprint(v.Address)
		}
		return ""
	}},
	{Header: "INTERFACE", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpBoot); ok {
			return fmt.Sprint(v.Interface)
		}
		return ""
	}},
	{Header: "TAG", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpBoot); ok {
			return fmt.Sprint(v.Tag)
		}
		return ""
	}},
	{Header: "FILENAME", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpBoot); ok {
			return fmt.Sprint(v.Filename)
		}
		return ""
	}},
	{Header: "SERVERNAME", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpBoot); ok {
			return fmt.Sprint(v.Servername)
		}
		return ""
	}},
}

func newDnsmasqBootCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "boot",
		Short: "Manage dnsmasq boot resources",
	}
	cmd.AddCommand(newDnsmasqBootCreateCmd())
	cmd.AddCommand(newDnsmasqBootDeleteCmd())
	cmd.AddCommand(newDnsmasqBootGetCmd())
	cmd.AddCommand(newDnsmasqBootListCmd())
	cmd.AddCommand(newDnsmasqBootUpdateCmd())
	return cmd
}

func newDnsmasqBootCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create dnsmasq boot",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.DhcpBoot
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsAddBoot(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newDnsmasqBootDeleteCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "delete <uuid>",
		Short: "Delete dnsmasq boot",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsDelBoot(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newDnsmasqBootGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get dnsmasq boot",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsGetBoot(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newDnsmasqBootListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List dnsmasq boot resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.SettingsSearchBoot(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, dnsmasqBootColumns)
		},
	}
}

func newDnsmasqBootUpdateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "update <uuid>",
		Short: "Update dnsmasq boot",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.DhcpBoot
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsSetBoot(context.Background(), args[0], &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

// dnsmasqDomainColumns defines table columns for the Domain resource.
var dnsmasqDomainColumns = []cli.Column{
	{Header: "PORT", Extract: func(row any) string {
		if v, ok := row.(sdk.Domainoverrides); ok {
			return fmt.Sprint(v.Port)
		}
		return ""
	}},
	{Header: "SEQUENCE", Extract: func(row any) string {
		if v, ok := row.(sdk.Domainoverrides); ok {
			return fmt.Sprint(v.Sequence)
		}
		return ""
	}},
	{Header: "DOMAIN", Extract: func(row any) string {
		if v, ok := row.(sdk.Domainoverrides); ok {
			return fmt.Sprint(v.Domain)
		}
		return ""
	}},
	{Header: "IPSET", Extract: func(row any) string {
		if v, ok := row.(sdk.Domainoverrides); ok {
			return fmt.Sprint(v.Ipset)
		}
		return ""
	}},
	{Header: "SRCIP", Extract: func(row any) string {
		if v, ok := row.(sdk.Domainoverrides); ok {
			return fmt.Sprint(v.Srcip)
		}
		return ""
	}},
	{Header: "IP", Extract: func(row any) string {
		if v, ok := row.(sdk.Domainoverrides); ok {
			return fmt.Sprint(v.Ip)
		}
		return ""
	}},
	{Header: "DESCR", Extract: func(row any) string {
		if v, ok := row.(sdk.Domainoverrides); ok {
			return fmt.Sprint(v.Descr)
		}
		return ""
	}},
}

func newDnsmasqDomainCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "domain",
		Short: "Manage dnsmasq domain resources",
	}
	cmd.AddCommand(newDnsmasqDomainCreateCmd())
	cmd.AddCommand(newDnsmasqDomainDeleteCmd())
	cmd.AddCommand(newDnsmasqDomainGetCmd())
	cmd.AddCommand(newDnsmasqDomainListCmd())
	cmd.AddCommand(newDnsmasqDomainUpdateCmd())
	return cmd
}

func newDnsmasqDomainCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create dnsmasq domain",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Domainoverrides
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsAddDomain(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newDnsmasqDomainDeleteCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "delete <uuid>",
		Short: "Delete dnsmasq domain",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsDelDomain(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newDnsmasqDomainGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get dnsmasq domain",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsGetDomain(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newDnsmasqDomainListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List dnsmasq domain resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.SettingsSearchDomain(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, dnsmasqDomainColumns)
		},
	}
}

func newDnsmasqDomainUpdateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "update <uuid>",
		Short: "Update dnsmasq domain",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Domainoverrides
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsSetDomain(context.Background(), args[0], &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

// dnsmasqHostColumns defines table columns for the Host resource.
var dnsmasqHostColumns = []cli.Column{
	{Header: "HOST", Extract: func(row any) string {
		if v, ok := row.(sdk.Hosts); ok {
			return fmt.Sprint(v.Host)
		}
		return ""
	}},
	{Header: "DOMAIN", Extract: func(row any) string {
		if v, ok := row.(sdk.Hosts); ok {
			return fmt.Sprint(v.Domain)
		}
		return ""
	}},
	{Header: "LOCAL", Extract: func(row any) string {
		if v, ok := row.(sdk.Hosts); ok {
			if v.Local != nil {
				return fmt.Sprint(*v.Local)
			}
			return ""
		}
		return ""
	}},
	{Header: "IP", Extract: func(row any) string {
		if v, ok := row.(sdk.Hosts); ok {
			return fmt.Sprint(v.Ip)
		}
		return ""
	}},
	{Header: "CNAMES", Extract: func(row any) string {
		if v, ok := row.(sdk.Hosts); ok {
			return fmt.Sprint(v.Cnames)
		}
		return ""
	}},
	{Header: "CLIENT ID", Extract: func(row any) string {
		if v, ok := row.(sdk.Hosts); ok {
			return fmt.Sprint(v.ClientId)
		}
		return ""
	}},
	{Header: "HWADDR", Extract: func(row any) string {
		if v, ok := row.(sdk.Hosts); ok {
			return fmt.Sprint(v.Hwaddr)
		}
		return ""
	}},
	{Header: "LEASE TIME", Extract: func(row any) string {
		if v, ok := row.(sdk.Hosts); ok {
			if v.LeaseTime != nil {
				return fmt.Sprint(*v.LeaseTime)
			}
			return ""
		}
		return ""
	}},
}

func newDnsmasqHostCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "host",
		Short: "Manage dnsmasq host resources",
	}
	cmd.AddCommand(newDnsmasqHostCreateCmd())
	cmd.AddCommand(newDnsmasqHostDeleteCmd())
	cmd.AddCommand(newDnsmasqHostGetCmd())
	cmd.AddCommand(newDnsmasqHostListCmd())
	cmd.AddCommand(newDnsmasqHostUpdateCmd())
	return cmd
}

func newDnsmasqHostCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create dnsmasq host",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Hosts
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsAddHost(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newDnsmasqHostDeleteCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "delete <uuid>",
		Short: "Delete dnsmasq host",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsDelHost(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newDnsmasqHostGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get dnsmasq host",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsGetHost(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newDnsmasqHostListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List dnsmasq host resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.SettingsSearchHost(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, dnsmasqHostColumns)
		},
	}
}

func newDnsmasqHostUpdateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "update <uuid>",
		Short: "Update dnsmasq host",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Hosts
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsSetHost(context.Background(), args[0], &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

// dnsmasqOptionColumns defines table columns for the Option resource.
var dnsmasqOptionColumns = []cli.Column{
	{Header: "DESCRIPTION", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpOptions); ok {
			return fmt.Sprint(v.Description)
		}
		return ""
	}},
	{Header: "TYPE", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpOptions); ok {
			return fmt.Sprint(v.Type)
		}
		return ""
	}},
	{Header: "INTERFACE", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpOptions); ok {
			return fmt.Sprint(v.Interface)
		}
		return ""
	}},
	{Header: "OPTION", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpOptions); ok {
			return fmt.Sprint(v.Option)
		}
		return ""
	}},
	{Header: "OPTION6", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpOptions); ok {
			return fmt.Sprint(v.Option6)
		}
		return ""
	}},
	{Header: "TAG", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpOptions); ok {
			return fmt.Sprint(v.Tag)
		}
		return ""
	}},
	{Header: "SET TAG", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpOptions); ok {
			return fmt.Sprint(v.SetTag)
		}
		return ""
	}},
	{Header: "VALUE", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpOptions); ok {
			return fmt.Sprint(v.Value)
		}
		return ""
	}},
}

func newDnsmasqOptionCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "option",
		Short: "Manage dnsmasq option resources",
	}
	cmd.AddCommand(newDnsmasqOptionCreateCmd())
	cmd.AddCommand(newDnsmasqOptionDeleteCmd())
	cmd.AddCommand(newDnsmasqOptionGetCmd())
	cmd.AddCommand(newDnsmasqOptionListCmd())
	cmd.AddCommand(newDnsmasqOptionUpdateCmd())
	return cmd
}

func newDnsmasqOptionCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create dnsmasq option",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.DhcpOptions
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsAddOption(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newDnsmasqOptionDeleteCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "delete <uuid>",
		Short: "Delete dnsmasq option",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsDelOption(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newDnsmasqOptionGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get dnsmasq option",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsGetOption(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newDnsmasqOptionListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List dnsmasq option resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.SettingsSearchOption(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, dnsmasqOptionColumns)
		},
	}
}

func newDnsmasqOptionUpdateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "update <uuid>",
		Short: "Update dnsmasq option",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.DhcpOptions
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsSetOption(context.Background(), args[0], &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

// dnsmasqRangeColumns defines table columns for the Range resource.
var dnsmasqRangeColumns = []cli.Column{
	{Header: "DESCRIPTION", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpRanges); ok {
			return fmt.Sprint(v.Description)
		}
		return ""
	}},
	{Header: "INTERFACE", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpRanges); ok {
			return fmt.Sprint(v.Interface)
		}
		return ""
	}},
	{Header: "SET TAG", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpRanges); ok {
			return fmt.Sprint(v.SetTag)
		}
		return ""
	}},
	{Header: "START ADDR", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpRanges); ok {
			return fmt.Sprint(v.StartAddr)
		}
		return ""
	}},
	{Header: "END ADDR", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpRanges); ok {
			return fmt.Sprint(v.EndAddr)
		}
		return ""
	}},
	{Header: "SUBNET MASK", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpRanges); ok {
			return fmt.Sprint(v.SubnetMask)
		}
		return ""
	}},
	{Header: "CONSTRUCTOR", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpRanges); ok {
			return fmt.Sprint(v.Constructor)
		}
		return ""
	}},
	{Header: "MODE", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpRanges); ok {
			return fmt.Sprint(v.Mode)
		}
		return ""
	}},
}

func newDnsmasqRangeCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "range",
		Short: "Manage dnsmasq range resources",
	}
	cmd.AddCommand(newDnsmasqRangeCreateCmd())
	cmd.AddCommand(newDnsmasqRangeDeleteCmd())
	cmd.AddCommand(newDnsmasqRangeGetCmd())
	cmd.AddCommand(newDnsmasqRangeListCmd())
	cmd.AddCommand(newDnsmasqRangeUpdateCmd())
	return cmd
}

func newDnsmasqRangeCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create dnsmasq range",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.DhcpRanges
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsAddRange(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newDnsmasqRangeDeleteCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "delete <uuid>",
		Short: "Delete dnsmasq range",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsDelRange(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newDnsmasqRangeGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get dnsmasq range",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsGetRange(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newDnsmasqRangeListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List dnsmasq range resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.SettingsSearchRange(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, dnsmasqRangeColumns)
		},
	}
}

func newDnsmasqRangeUpdateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "update <uuid>",
		Short: "Update dnsmasq range",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.DhcpRanges
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsSetRange(context.Background(), args[0], &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

// dnsmasqTagColumns defines table columns for the Tag resource.
var dnsmasqTagColumns = []cli.Column{
	{Header: "TAG", Extract: func(row any) string {
		if v, ok := row.(sdk.DhcpTags); ok {
			return fmt.Sprint(v.Tag)
		}
		return ""
	}},
}

func newDnsmasqTagCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "tag",
		Short: "Manage dnsmasq tag resources",
	}
	cmd.AddCommand(newDnsmasqTagCreateCmd())
	cmd.AddCommand(newDnsmasqTagDeleteCmd())
	cmd.AddCommand(newDnsmasqTagGetCmd())
	cmd.AddCommand(newDnsmasqTagListCmd())
	cmd.AddCommand(newDnsmasqTagUpdateCmd())
	return cmd
}

func newDnsmasqTagCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create dnsmasq tag",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.DhcpTags
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsAddTag(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newDnsmasqTagDeleteCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "delete <uuid>",
		Short: "Delete dnsmasq tag",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsDelTag(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newDnsmasqTagGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get dnsmasq tag",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsGetTag(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newDnsmasqTagListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List dnsmasq tag resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.SettingsSearchTag(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, dnsmasqTagColumns)
		},
	}
}

func newDnsmasqTagUpdateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "update <uuid>",
		Short: "Update dnsmasq tag",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.DhcpTags
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsSetTag(context.Background(), args[0], &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newDnsmasqSettingsCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "settings",
		Short: "Manage dnsmasq settings resources",
	}
	cmd.AddCommand(newDnsmasqSettingsDownloadHostsCmd())
	cmd.AddCommand(newDnsmasqSettingsGetCmd())
	cmd.AddCommand(newDnsmasqSettingsSetCmd())
	cmd.AddCommand(newDnsmasqSettingsUploadHostsCmd())
	return cmd
}

func newDnsmasqSettingsDownloadHostsCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "download-hosts",
		Short: "DownloadHosts dnsmasq settings",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsDownloadHosts(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newDnsmasqSettingsGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get dnsmasq settings",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsGet(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newDnsmasqSettingsSetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "set",
		Short: "Set dnsmasq settings",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsSet(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newDnsmasqSettingsUploadHostsCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "upload-hosts",
		Short: "UploadHosts dnsmasq settings",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsUploadHosts(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newDnsmasqTagListResourceCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "tag-list",
		Short: "Manage dnsmasq tag-list resources",
	}
	cmd.AddCommand(newDnsmasqTagListResourceGetTagListCmd())
	return cmd
}

func newDnsmasqTagListResourceGetTagListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get-tag-list",
		Short: "GetTagList dnsmasq tag-list",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsGetTagList(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}
