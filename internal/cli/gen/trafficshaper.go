// Code generated by opnsense-cli/generate; DO NOT EDIT.

package gen

import (
	"context"
	"encoding/json"
	"fmt"

	"github.com/jontk/opnsense-cli/internal/cli"
	sdk "github.com/jontk/opnsense-cli/opnsense/trafficshaper"
	"github.com/spf13/cobra"
)

func init() {
	registerTrafficshaper()
}

func registerTrafficshaper() {
	moduleCmd := &cobra.Command{
		Use:   "trafficshaper",
		Short: "Manage trafficshaper resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			if len(args) == 0 {
				return cmd.Help()
			}
			msg := fmt.Sprintf("unknown command %q for %q", args[0], cmd.CommandPath())
			if sugg := cmd.SuggestionsFor(args[0]); len(sugg) > 0 {
				msg += "\n\nDid you mean this?"
				for _, s := range sugg {
					msg += "\n\t" + s
				}
			}
			return fmt.Errorf("%s\n\nRun '%s --help' for usage.", msg, cmd.CommandPath())
		},
	}
	moduleCmd.AddCommand(newTrafficshaperServiceCmd())
	moduleCmd.AddCommand(newTrafficshaperPipeCmd())
	moduleCmd.AddCommand(newTrafficshaperQueueCmd())
	moduleCmd.AddCommand(newTrafficshaperRuleCmd())
	moduleCmd.AddCommand(newTrafficshaperSettingsCmd())
	cli.Root.AddCommand(moduleCmd)
}

func newTrafficshaperServiceCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "service",
		Short: "Manage trafficshaper service resources",
	}
	cmd.AddCommand(newTrafficshaperServiceFlushreloadCmd())
	cmd.AddCommand(newTrafficshaperServiceReconfigureCmd())
	cmd.AddCommand(newTrafficshaperServiceStatisticsCmd())
	return cmd
}

func newTrafficshaperServiceFlushreloadCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "flushreload",
		Short: "Flushreload trafficshaper service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceFlushreload(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newTrafficshaperServiceReconfigureCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "reconfigure",
		Short: "Reconfigure trafficshaper service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceReconfigure(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newTrafficshaperServiceStatisticsCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "statistics",
		Short: "Statistics trafficshaper service",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.ServiceStatistics(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

// trafficshaperPipeColumns defines table columns for the Pipe resource.
var trafficshaperPipeColumns = []cli.Column{
	{Header: "ENABLED", Extract: func(row any) string {
		if v, ok := row.(sdk.Pipe); ok {
			return fmt.Sprint(v.Enabled)
		}
		return ""
	}},
	{Header: "DESCRIPTION", Extract: func(row any) string {
		if v, ok := row.(sdk.Pipe); ok {
			return fmt.Sprint(v.Description)
		}
		return ""
	}},
	{Header: "NUMBER", Extract: func(row any) string {
		if v, ok := row.(sdk.Pipe); ok {
			return fmt.Sprint(v.Number)
		}
		return ""
	}},
	{Header: "BANDWIDTH", Extract: func(row any) string {
		if v, ok := row.(sdk.Pipe); ok {
			return fmt.Sprint(v.Bandwidth)
		}
		return ""
	}},
	{Header: "BANDWIDTHMETRIC", Extract: func(row any) string {
		if v, ok := row.(sdk.Pipe); ok {
			return fmt.Sprint(v.BandwidthMetric)
		}
		return ""
	}},
	{Header: "QUEUE", Extract: func(row any) string {
		if v, ok := row.(sdk.Pipe); ok {
			return fmt.Sprint(v.Queue)
		}
		return ""
	}},
	{Header: "MASK", Extract: func(row any) string {
		if v, ok := row.(sdk.Pipe); ok {
			return fmt.Sprint(v.Mask)
		}
		return ""
	}},
	{Header: "BUCKETS", Extract: func(row any) string {
		if v, ok := row.(sdk.Pipe); ok {
			return fmt.Sprint(v.Buckets)
		}
		return ""
	}},
}

func newTrafficshaperPipeCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "pipe",
		Short: "Manage trafficshaper pipe resources",
	}
	cmd.AddCommand(newTrafficshaperPipeCreateCmd())
	cmd.AddCommand(newTrafficshaperPipeDeleteCmd())
	cmd.AddCommand(newTrafficshaperPipeGetCmd())
	cmd.AddCommand(newTrafficshaperPipeUpdateCmd())
	cmd.AddCommand(newTrafficshaperPipeToggleCmd())
	cmd.AddCommand(newTrafficshaperPipeListCmd())
	return cmd
}

func newTrafficshaperPipeCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create trafficshaper pipe",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Pipe
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsAddPipe(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newTrafficshaperPipeDeleteCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "delete <uuid>",
		Short: "Delete trafficshaper pipe",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsDelPipe(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newTrafficshaperPipeGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get trafficshaper pipe",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsGetPipe(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newTrafficshaperPipeUpdateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "update <uuid>",
		Short: "Update trafficshaper pipe",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Pipe
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsSetPipe(context.Background(), args[0], &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newTrafficshaperPipeToggleCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "toggle <uuid>",
		Short: "Toggle trafficshaper pipe",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsTogglePipe(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newTrafficshaperPipeListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List trafficshaper pipe resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.SettingsSearchPipes(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, trafficshaperPipeColumns)
		},
	}
}

// trafficshaperQueueColumns defines table columns for the Queue resource.
var trafficshaperQueueColumns = []cli.Column{
	{Header: "ENABLED", Extract: func(row any) string {
		if v, ok := row.(sdk.Queue); ok {
			return fmt.Sprint(v.Enabled)
		}
		return ""
	}},
	{Header: "DESCRIPTION", Extract: func(row any) string {
		if v, ok := row.(sdk.Queue); ok {
			return fmt.Sprint(v.Description)
		}
		return ""
	}},
	{Header: "NUMBER", Extract: func(row any) string {
		if v, ok := row.(sdk.Queue); ok {
			return fmt.Sprint(v.Number)
		}
		return ""
	}},
	{Header: "PIPE", Extract: func(row any) string {
		if v, ok := row.(sdk.Queue); ok {
			return fmt.Sprint(v.Pipe)
		}
		return ""
	}},
	{Header: "WEIGHT", Extract: func(row any) string {
		if v, ok := row.(sdk.Queue); ok {
			return fmt.Sprint(v.Weight)
		}
		return ""
	}},
	{Header: "MASK", Extract: func(row any) string {
		if v, ok := row.(sdk.Queue); ok {
			return fmt.Sprint(v.Mask)
		}
		return ""
	}},
	{Header: "BUCKETS", Extract: func(row any) string {
		if v, ok := row.(sdk.Queue); ok {
			return fmt.Sprint(v.Buckets)
		}
		return ""
	}},
	{Header: "CODEL ENABLE", Extract: func(row any) string {
		if v, ok := row.(sdk.Queue); ok {
			return fmt.Sprint(v.CodelEnable)
		}
		return ""
	}},
}

func newTrafficshaperQueueCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "queue",
		Short: "Manage trafficshaper queue resources",
	}
	cmd.AddCommand(newTrafficshaperQueueCreateCmd())
	cmd.AddCommand(newTrafficshaperQueueDeleteCmd())
	cmd.AddCommand(newTrafficshaperQueueGetCmd())
	cmd.AddCommand(newTrafficshaperQueueUpdateCmd())
	cmd.AddCommand(newTrafficshaperQueueToggleCmd())
	cmd.AddCommand(newTrafficshaperQueueListCmd())
	return cmd
}

func newTrafficshaperQueueCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create trafficshaper queue",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Queue
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsAddQueue(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newTrafficshaperQueueDeleteCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "delete <uuid>",
		Short: "Delete trafficshaper queue",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsDelQueue(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newTrafficshaperQueueGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get trafficshaper queue",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsGetQueue(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newTrafficshaperQueueUpdateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "update <uuid>",
		Short: "Update trafficshaper queue",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Queue
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsSetQueue(context.Background(), args[0], &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newTrafficshaperQueueToggleCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "toggle <uuid>",
		Short: "Toggle trafficshaper queue",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsToggleQueue(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newTrafficshaperQueueListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List trafficshaper queue resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.SettingsSearchQueues(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, trafficshaperQueueColumns)
		},
	}
}

// trafficshaperRuleColumns defines table columns for the Rule resource.
var trafficshaperRuleColumns = []cli.Column{
	{Header: "ENABLED", Extract: func(row any) string {
		if v, ok := row.(sdk.Rule); ok {
			return fmt.Sprint(v.Enabled)
		}
		return ""
	}},
	{Header: "DESCRIPTION", Extract: func(row any) string {
		if v, ok := row.(sdk.Rule); ok {
			return fmt.Sprint(v.Description)
		}
		return ""
	}},
	{Header: "INTERFACE", Extract: func(row any) string {
		if v, ok := row.(sdk.Rule); ok {
			return fmt.Sprint(v.Interface)
		}
		return ""
	}},
	{Header: "PROTO", Extract: func(row any) string {
		if v, ok := row.(sdk.Rule); ok {
			return fmt.Sprint(v.Proto)
		}
		return ""
	}},
	{Header: "SEQUENCE", Extract: func(row any) string {
		if v, ok := row.(sdk.Rule); ok {
			return fmt.Sprint(v.Sequence)
		}
		return ""
	}},
	{Header: "INTERFACE2", Extract: func(row any) string {
		if v, ok := row.(sdk.Rule); ok {
			return fmt.Sprint(v.Interface2)
		}
		return ""
	}},
	{Header: "IPLEN", Extract: func(row any) string {
		if v, ok := row.(sdk.Rule); ok {
			return fmt.Sprint(v.Iplen)
		}
		return ""
	}},
	{Header: "SOURCE", Extract: func(row any) string {
		if v, ok := row.(sdk.Rule); ok {
			return fmt.Sprint(v.Source)
		}
		return ""
	}},
}

func newTrafficshaperRuleCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "rule",
		Short: "Manage trafficshaper rule resources",
	}
	cmd.AddCommand(newTrafficshaperRuleCreateCmd())
	cmd.AddCommand(newTrafficshaperRuleDeleteCmd())
	cmd.AddCommand(newTrafficshaperRuleGetCmd())
	cmd.AddCommand(newTrafficshaperRuleUpdateCmd())
	cmd.AddCommand(newTrafficshaperRuleToggleCmd())
	cmd.AddCommand(newTrafficshaperRuleListCmd())
	return cmd
}

func newTrafficshaperRuleCreateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "create",
		Short: "Create trafficshaper rule",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Rule
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsAddRule(context.Background(), &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newTrafficshaperRuleDeleteCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "delete <uuid>",
		Short: "Delete trafficshaper rule",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsDelRule(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newTrafficshaperRuleGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get trafficshaper rule",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsGetRule(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newTrafficshaperRuleUpdateCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "update <uuid>",
		Short: "Update trafficshaper rule",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			dataStr, _ := cmd.Flags().GetString("data")
			var body sdk.Rule
			if err := json.Unmarshal([]byte(dataStr), &body); err != nil {
				return fmt.Errorf("parsing --data: %w", err)
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsSetRule(context.Background(), args[0], &body)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
	cmd.Flags().String("data", "{}", "JSON body (can use '-' to read from stdin)")
	return cmd
}

func newTrafficshaperRuleToggleCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "toggle <uuid>",
		Short: "Toggle trafficshaper rule",
		Args:  cobra.ExactArgs(1),
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsToggleRule(context.Background(), args[0])
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintGenericResponse(resp)
		},
	}
}

func newTrafficshaperRuleListCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "list",
		Short: "List trafficshaper rule resources",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			result, err := s.SettingsSearchRules(context.Background(), map[string]any{"rowCount": -1, "current": 1})
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			rows := make([]any, len(result.Rows))
			for i, r := range result.Rows {
				rows[i] = r
			}
			return printer.PrintTable(rows, trafficshaperRuleColumns)
		},
	}
}

func newTrafficshaperSettingsCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:   "settings",
		Short: "Manage trafficshaper settings resources",
	}
	cmd.AddCommand(newTrafficshaperSettingsDownloadPipesCmd())
	cmd.AddCommand(newTrafficshaperSettingsDownloadQueuesCmd())
	cmd.AddCommand(newTrafficshaperSettingsGetCmd())
	cmd.AddCommand(newTrafficshaperSettingsSetCmd())
	cmd.AddCommand(newTrafficshaperSettingsUploadPipesCmd())
	cmd.AddCommand(newTrafficshaperSettingsUploadQueuesCmd())
	return cmd
}

func newTrafficshaperSettingsDownloadPipesCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "download-pipes",
		Short: "DownloadPipes trafficshaper settings",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsDownloadPipes(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newTrafficshaperSettingsDownloadQueuesCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "download-queues",
		Short: "DownloadQueues trafficshaper settings",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsDownloadQueues(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newTrafficshaperSettingsGetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "get",
		Short: "Get trafficshaper settings",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsGet(context.Background())
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newTrafficshaperSettingsSetCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "set",
		Short: "Set trafficshaper settings",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsSet(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newTrafficshaperSettingsUploadPipesCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "upload-pipes",
		Short: "UploadPipes trafficshaper settings",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsUploadPipes(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}

func newTrafficshaperSettingsUploadQueuesCmd() *cobra.Command {
	return &cobra.Command{
		Use:   "upload-queues",
		Short: "UploadQueues trafficshaper settings",
		RunE: func(cmd *cobra.Command, args []string) error {
			c, cfg, err := cli.NewClientFromCmd(cmd)
			if err != nil {
				return err
			}
			s := sdk.NewClient(c)
			resp, err := s.SettingsUploadQueues(context.Background(), nil)
			if err != nil {
				return err
			}
			printer := cli.NewPrinter(cfg)
			return printer.PrintJSON(resp)
		},
	}
}
